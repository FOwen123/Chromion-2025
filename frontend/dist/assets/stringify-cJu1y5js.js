import{aI as A,af as x,ag as r,ah as B,aJ as l,aK as T,aL as E,aM as M}from"./index-anYD-FGg.js";function W(e){var s;if(!e)return!1;const n=(typeof e=="string"?e:(e==null?void 0:e.message)||((s=e==null?void 0:e.data)==null?void 0:s.message)||"").toLowerCase();return n.includes("insufficient funds")||n.includes("insufficient balance")||n.includes("insufficient")&&(n.includes("native")||n.includes("gas"))||(e==null?void 0:e.code)==="INSUFFICIENT_FUNDS"||(e==null?void 0:e.reason)==="insufficient funds"}function j(e){var s;if(!e)return{message:"Unknown error"};const t=typeof e=="string"?e:(e==null?void 0:e.message)||((s=e==null?void 0:e.data)==null?void 0:s.message)||String(e),n=(e==null?void 0:e.code)||(e==null?void 0:e.reason);return{message:t,code:n}}async function X(e){return D({...e,action:"transaction:sent"})}function D(e){return A({client:e.client,ecosystem:e.ecosystem,data:{action:e.action,clientId:e.client.clientId,chainId:e.chainId,transactionHash:e.transactionHash,walletAddress:e.walletAddress,walletType:e.walletType,contractAddress:e.contractAddress,functionName:e.functionName,gasPrice:e.gasPrice,errorCode:x(e.error)}})}async function Q(e){var n,s,i;const t=j(e.error);return A({client:e.client,ecosystem:e.ecosystem,data:{action:"transaction:insufficient_funds",clientId:e.client.clientId,chainId:e.chainId,walletAddress:e.walletAddress,contractAddress:e.contractAddress,functionName:e.functionName,transactionValue:(n=e.transactionValue)==null?void 0:n.toString(),requiredAmount:(s=e.requiredAmount)==null?void 0:s.toString(),userBalance:(i=e.userBalance)==null?void 0:i.toString(),errorMessage:t.message,errorCode:t.code?x(t.code):void 0}})}function b(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new C(e.type);return`${e.name}(${m(e.inputs,{includeName:t})})`}function m(e,{includeName:t=!1}={}){return e?e.map(n=>P(n,{includeName:t})).join(t?", ":","):""}function P(e,{includeName:t}){return e.type.startsWith("tuple")?`(${m(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class _ extends r{constructor({data:t,params:n,size:s}){super([`Data size of ${s} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${m(n,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=s}}class ee extends r{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class te extends r{constructor({expectedLength:t,givenLength:n,type:s}){super([`ABI encoding array length mismatch for type ${s}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class ne extends r{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${B(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class se extends r{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class ie extends r{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class re extends r{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class oe extends r{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class ae extends r{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class ce extends r{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${b(t.abiItem)}\`, and`,`\`${n.type}\` in \`${b(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class ue extends r{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class de extends r{constructor({abiItem:t,data:n,params:s,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${m(s,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=s,this.size=i}}class fe extends r{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${b(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class le extends r{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class me extends r{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class ge extends r{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class C extends r{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class he extends r{constructor({offset:t,position:n,size:s}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${s}).`,{name:"SliceOffsetOutOfBoundsError"})}}class $ extends r{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function f(e,{dir:t,size:n=32}={}){return typeof e=="string"?N(e,{dir:t,size:n}):k(e,{dir:t,size:n})}function N(e,{dir:t,size:n=32}={}){if(n===null)return e;const s=e.replace("0x","");if(s.length>n*2)throw new $({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function k(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new $({size:e.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let i=0;i<n;i++){const o=t==="right";s[o?i:n-i-1]=e[o?i:e.length-i-1]}return s}const F=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function O(e,t={}){return typeof e=="number"||typeof e=="bigint"?v(e,t):typeof e=="string"?U(e,t):typeof e=="boolean"?L(e,t):z(e,t)}function L(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(l(n,{size:t.size}),f(n,{size:t.size})):n}function z(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=F[e[i]];const s=`0x${n}`;return typeof t.size=="number"?(l(s,{size:t.size}),f(s,{dir:"right",size:t.size})):s}function v(e,t={}){const{signed:n,size:s}=t,i=BigInt(e);let o;s?n?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<a){const d=typeof e=="bigint"?"n":"";throw new T({max:o?`${o}${d}`:void 0,min:`${a}${d}`,signed:n,size:s,value:`${e}${d}`})}const u=`0x${(n&&i<0?(1n<<BigInt(s*8))+BigInt(i):i).toString(16)}`;return s?f(u,{size:s}):u}const H=new TextEncoder;function U(e,t={}){const n=H.encode(e);return z(n,t)}const R=new TextEncoder;function q(e,t={}){return typeof e=="number"||typeof e=="bigint"?G(e,t):typeof e=="boolean"?V(e,t):E(e)?I(e,t):S(e,t)}function V(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(l(n,{size:t.size}),f(n,{size:t.size})):n}const c={zero:48,nine:57,A:65,F:70,a:97,f:102};function y(e){if(e>=c.zero&&e<=c.nine)return e-c.zero;if(e>=c.A&&e<=c.F)return e-(c.A-10);if(e>=c.a&&e<=c.f)return e-(c.a-10)}function I(e,t={}){let n=e;t.size&&(l(n,{size:t.size}),n=f(n,{dir:"right",size:t.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,u=0;a<i;a++){const d=y(s.charCodeAt(u++)),p=y(s.charCodeAt(u++));if(d===void 0||p===void 0)throw new r(`Invalid byte sequence ("${s[u-2]}${s[u-1]}" in "${s}").`);o[a]=d*16+p}return o}function G(e,t){const n=v(e,t);return I(n)}function S(e,t={}){const n=R.encode(e);return typeof t.size=="number"?(l(n,{size:t.size}),f(n,{dir:"right",size:t.size})):n}function J(e,t){const n=t||"hex",s=M(E(e,{strict:!1})?q(e):e);return n==="bytes"?s:O(s)}class be extends r{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class w extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}const g=new w(8192);function K(e,t){if(g.has(`${e}.${t}`))return g.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),s=J(S(n),"bytes"),i=n.split("");for(let a=0;a<40;a+=2)s[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(s[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const o=`0x${i.join("")}`;return g.set(`${e}.${t}`,o),o}const Y=/^0x[a-fA-F0-9]{40}$/,h=new w(8192);function pe(e,t){const{strict:n=!0}=t??{},s=`${e}.${n}`;if(h.has(s))return h.get(s);const i=Y.test(e)?e.toLowerCase()===e?!0:n?K(e)===e:!0:!1;return h.set(s,i),i}const ye=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ae=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,xe=(e,t,n)=>JSON.stringify(e,(s,i)=>typeof i=="bigint"?i.toString():i,n);export{ce as A,ue as B,ne as C,fe as D,U as E,ee as F,me as G,K as H,be as I,ie as J,he as S,pe as a,ye as b,W as c,Q as d,O as e,z as f,q as g,I as h,Ae as i,ae as j,b as k,J as l,re as m,v as n,oe as o,f as p,_ as q,de as r,xe as s,X as t,se as u,le as v,ge as w,te as x,N as y,L as z};
