var Ze=t=>{throw TypeError(t)};var Le=(t,n,o)=>n.has(t)||Ze("Cannot "+o);var I=(t,n,o)=>(Le(t,n,"read from private field"),o?o.call(t):n.get(t)),he=(t,n,o)=>n.has(t)?Ze("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,o),ge=(t,n,o,r)=>(Le(t,n,"write to private field"),r?r.call(t,o):n.set(t,o),o),xe=(t,n,o)=>(Le(t,n,"access private method"),o);import{S as xo,s as vo,h as Je,a as yo,n as ht,u as We,r as a,b as wo,d as So,j as e,e as ce,f as gt,t as te}from"./index-anYD-FGg.js";import{R as xt,T as vt,C as yt,a as qe,b as wt,D as St,P as bt,O as Ct,c as Ge,d as jt,u as et,e as bo,f as Ye,A as Co,g as R,h as re,i as jo,V as No,j as _o,k as Io,l as To,m as Po,F as Do,n as Ao,o as Ro,p as Eo,q as Nt,W as ko,L as Mo}from"./layout-ypTgJLtp.js";import{c as me,a as T,C as Oo,d as Lo,e as Vo,f as Bo,b as $o}from"./createLucideIcon-DyRFF-zW.js";import{P as L,u as O,a as Be,B as Y,b as Fo,d as _t}from"./index-BPYKPm2Y.js";import{X as zo}from"./x-BF7H1f_7.js";import{s as de,B as Ho}from"./badge-B4HGYicW.js";import{u as Qe}from"./accounts-DaLONHDH.js";import{u as Uo}from"./useQuery-uIxU7cpp.js";import"./TypedData-DnI-ZWEX.js";import"./parse-typed-data-B5i2uSeh.js";import"./stringify-cJu1y5js.js";var oe,ne,M,Q,X,_e,$e,ft,Ko=(ft=class extends xo{constructor(o,r){super();he(this,X);he(this,oe);he(this,ne);he(this,M);he(this,Q);ge(this,oe,o),this.setOptions(r),this.bindMethods(),xe(this,X,_e).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(o){var s;const r=this.options;this.options=I(this,oe).defaultMutationOptions(o),vo(this.options,r)||I(this,oe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:I(this,M),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Je(r.mutationKey)!==Je(this.options.mutationKey)?this.reset():((s=I(this,M))==null?void 0:s.state.status)==="pending"&&I(this,M).setOptions(this.options)}onUnsubscribe(){var o;this.hasListeners()||(o=I(this,M))==null||o.removeObserver(this)}onMutationUpdate(o){xe(this,X,_e).call(this),xe(this,X,$e).call(this,o)}getCurrentResult(){return I(this,ne)}reset(){var o;(o=I(this,M))==null||o.removeObserver(this),ge(this,M,void 0),xe(this,X,_e).call(this),xe(this,X,$e).call(this)}mutate(o,r){var s;return ge(this,Q,r),(s=I(this,M))==null||s.removeObserver(this),ge(this,M,I(this,oe).getMutationCache().build(I(this,oe),this.options)),I(this,M).addObserver(this),I(this,M).execute(o)}},oe=new WeakMap,ne=new WeakMap,M=new WeakMap,Q=new WeakMap,X=new WeakSet,_e=function(){var r;const o=((r=I(this,M))==null?void 0:r.state)??yo();ge(this,ne,{...o,isPending:o.status==="pending",isSuccess:o.status==="success",isError:o.status==="error",isIdle:o.status==="idle",mutate:this.mutate,reset:this.reset})},$e=function(o){ht.batch(()=>{var r,s,u,l,c,i,m,g;if(I(this,Q)&&this.hasListeners()){const x=I(this,ne).variables,y=I(this,ne).context;(o==null?void 0:o.type)==="success"?((s=(r=I(this,Q)).onSuccess)==null||s.call(r,o.data,x,y),(l=(u=I(this,Q)).onSettled)==null||l.call(u,o.data,null,x,y)):(o==null?void 0:o.type)==="error"&&((i=(c=I(this,Q)).onError)==null||i.call(c,o.error,x,y),(g=(m=I(this,Q)).onSettled)==null||g.call(m,void 0,o.error,x,y))}this.listeners.forEach(x=>{x(I(this,ne))})})},ft);function Wo(t,n){const o=We(),[r]=a.useState(()=>new Ko(o,t));a.useEffect(()=>{r.setOptions(t)},[r,t]);const s=a.useSyncExternalStore(a.useCallback(l=>r.subscribe(ht.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),u=a.useCallback((l,c)=>{r.mutate(l,c).catch(wo)},[r]);if(s.error&&So(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:u,mutateAsync:s.mutate}}/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],It=me("Check",qo);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tt=me("ChevronDown",Go);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Qo=me("ChevronUp",Yo);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pt=me("Copy",Xo);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Jo=me("ExternalLink",Zo);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tt=me("Plus",en);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],on=me("Trash2",tn);function Ve({className:t,type:n,...o}){return e.jsx("input",{type:n,"data-slot":"input",className:T("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...o})}function ot({...t}){return e.jsx(xt,{"data-slot":"dialog",...t})}function nt({...t}){return e.jsx(vt,{"data-slot":"dialog-trigger",...t})}function nn({...t}){return e.jsx(bt,{"data-slot":"dialog-portal",...t})}function rn({className:t,...n}){return e.jsx(Ct,{"data-slot":"dialog-overlay",className:T("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function rt({className:t,children:n,showCloseButton:o=!0,...r}){return e.jsxs(nn,{"data-slot":"dialog-portal",children:[e.jsx(rn,{}),e.jsxs(yt,{"data-slot":"dialog-content",className:T("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[n,o&&e.jsxs(qe,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(zo,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function st({className:t,...n}){return e.jsx("div",{"data-slot":"dialog-header",className:T("flex flex-col gap-2 text-center sm:text-left",t),...n})}function at({className:t,...n}){return e.jsx("div",{"data-slot":"dialog-footer",className:T("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...n})}function it({className:t,...n}){return e.jsx(wt,{"data-slot":"dialog-title",className:T("text-lg leading-none font-semibold",t),...n})}function lt({className:t,...n}){return e.jsx(St,{"data-slot":"dialog-description",className:T("text-muted-foreground text-sm",t),...n})}var sn="Label",Dt=a.forwardRef((t,n)=>e.jsx(L.label,{...t,ref:n,onMouseDown:o=>{var s;o.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));Dt.displayName=sn;var an=Dt;function ve({className:t,...n}){return e.jsx(an,{"data-slot":"label",className:T("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...n})}function ln({className:t,...n}){return e.jsx("textarea",{"data-slot":"textarea",className:T("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...n})}function ct(t,[n,o]){return Math.min(o,Math.max(n,t))}function cn(t){const n=t+"CollectionProvider",[o,r]=Ge(n),[s,u]=o(n,{collectionRef:{current:null},itemMap:new Map}),l=p=>{const{scope:h,children:S}=p,f=ce.useRef(null),d=ce.useRef(new Map).current;return e.jsx(s,{scope:h,itemMap:d,collectionRef:f,children:S})};l.displayName=n;const c=t+"CollectionSlot",i=Be(c),m=ce.forwardRef((p,h)=>{const{scope:S,children:f}=p,d=u(c,S),w=O(h,d.collectionRef);return e.jsx(i,{ref:w,children:f})});m.displayName=c;const g=t+"CollectionItemSlot",x="data-radix-collection-item",y=Be(g),N=ce.forwardRef((p,h)=>{const{scope:S,children:f,...d}=p,w=ce.useRef(null),D=O(h,w),E=u(g,S);return ce.useEffect(()=>(E.itemMap.set(w,{ref:w,...d}),()=>void E.itemMap.delete(w))),e.jsx(y,{[x]:"",ref:D,children:f})});N.displayName=g;function b(p){const h=u(t+"CollectionConsumer",p);return ce.useCallback(()=>{const f=h.collectionRef.current;if(!f)return[];const d=Array.from(f.querySelectorAll(`[${x}]`));return Array.from(h.itemMap.values()).sort((E,A)=>d.indexOf(E.ref.current)-d.indexOf(A.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:l,Slot:m,ItemSlot:N},b,r]}var dn=a.createContext(void 0);function un(t){const n=a.useContext(dn);return t||n||"ltr"}function pn(t){const n=a.useRef({value:t,previous:t});return a.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var mn=[" ","Enter","ArrowUp","ArrowDown"],fn=[" ","Enter"],ue="Select",[Te,Pe,hn]=cn(ue),[Se,Hr]=Ge(ue,[hn,jt]),De=jt(),[gn,se]=Se(ue),[xn,vn]=Se(ue),At=t=>{const{__scopeSelect:n,children:o,open:r,defaultOpen:s,onOpenChange:u,value:l,defaultValue:c,onValueChange:i,dir:m,name:g,autoComplete:x,disabled:y,required:N,form:b}=t,p=De(n),[h,S]=a.useState(null),[f,d]=a.useState(null),[w,D]=a.useState(!1),E=un(m),[A,B]=et({prop:r,defaultProp:s??!1,onChange:u,caller:ue}),[$,F]=et({prop:l,defaultProp:c,onChange:i,caller:ue}),z=a.useRef(null),H=h?b||!!h.closest("form"):!0,[J,W]=a.useState(new Set),q=Array.from(J).map(k=>k.props.value).join(";");return e.jsx(bo,{...p,children:e.jsxs(gn,{required:N,scope:n,trigger:h,onTriggerChange:S,valueNode:f,onValueNodeChange:d,valueNodeHasChildren:w,onValueNodeHasChildrenChange:D,contentId:Ye(),value:$,onValueChange:F,open:A,onOpenChange:B,dir:E,triggerPointerDownPosRef:z,disabled:y,children:[e.jsx(Te.Provider,{scope:n,children:e.jsx(xn,{scope:t.__scopeSelect,onNativeOptionAdd:a.useCallback(k=>{W(K=>new Set(K).add(k))},[]),onNativeOptionRemove:a.useCallback(k=>{W(K=>{const G=new Set(K);return G.delete(k),G})},[]),children:o})}),H?e.jsxs(Jt,{"aria-hidden":!0,required:N,tabIndex:-1,name:g,autoComplete:x,value:$,onChange:k=>F(k.target.value),disabled:y,form:b,children:[$===void 0?e.jsx("option",{value:""}):null,Array.from(J)]},q):null]})})};At.displayName=ue;var Rt="SelectTrigger",Et=a.forwardRef((t,n)=>{const{__scopeSelect:o,disabled:r=!1,...s}=t,u=De(o),l=se(Rt,o),c=l.disabled||r,i=O(n,l.onTriggerChange),m=Pe(o),g=a.useRef("touch"),[x,y,N]=to(p=>{const h=m().filter(d=>!d.disabled),S=h.find(d=>d.value===l.value),f=oo(h,p,S);f!==void 0&&l.onValueChange(f.value)}),b=p=>{c||(l.onOpenChange(!0),N()),p&&(l.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(Co,{asChild:!0,...u,children:e.jsx(L.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":eo(l.value)?"":void 0,...s,ref:i,onClick:R(s.onClick,p=>{p.currentTarget.focus(),g.current!=="mouse"&&b(p)}),onPointerDown:R(s.onPointerDown,p=>{g.current=p.pointerType;const h=p.target;h.hasPointerCapture(p.pointerId)&&h.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:R(s.onKeyDown,p=>{const h=x.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&y(p.key),!(h&&p.key===" ")&&mn.includes(p.key)&&(b(),p.preventDefault())})})})});Et.displayName=Rt;var kt="SelectValue",Mt=a.forwardRef((t,n)=>{const{__scopeSelect:o,className:r,style:s,children:u,placeholder:l="",...c}=t,i=se(kt,o),{onValueNodeHasChildrenChange:m}=i,g=u!==void 0,x=O(n,i.onValueNodeChange);return re(()=>{m(g)},[m,g]),e.jsx(L.span,{...c,ref:x,style:{pointerEvents:"none"},children:eo(i.value)?e.jsx(e.Fragment,{children:l}):u})});Mt.displayName=kt;var yn="SelectIcon",Ot=a.forwardRef((t,n)=>{const{__scopeSelect:o,children:r,...s}=t;return e.jsx(L.span,{"aria-hidden":!0,...s,ref:n,children:r||"â–¼"})});Ot.displayName=yn;var wn="SelectPortal",Lt=t=>e.jsx(jo,{asChild:!0,...t});Lt.displayName=wn;var pe="SelectContent",Vt=a.forwardRef((t,n)=>{const o=se(pe,t.__scopeSelect),[r,s]=a.useState();if(re(()=>{s(new DocumentFragment)},[]),!o.open){const u=r;return u?gt.createPortal(e.jsx(Bt,{scope:t.__scopeSelect,children:e.jsx(Te.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),u):null}return e.jsx($t,{...t,ref:n})});Vt.displayName=pe;var U=10,[Bt,ae]=Se(pe),Sn="SelectContentImpl",bn=Be("SelectContent.RemoveScroll"),$t=a.forwardRef((t,n)=>{const{__scopeSelect:o,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:u,onPointerDownOutside:l,side:c,sideOffset:i,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:y,collisionPadding:N,sticky:b,hideWhenDetached:p,avoidCollisions:h,...S}=t,f=se(pe,o),[d,w]=a.useState(null),[D,E]=a.useState(null),A=O(n,v=>w(v)),[B,$]=a.useState(null),[F,z]=a.useState(null),H=Pe(o),[J,W]=a.useState(!1),q=a.useRef(!1);a.useEffect(()=>{if(d)return Io(d)},[d]),To();const k=a.useCallback(v=>{const[P,...V]=H().map(j=>j.ref.current),[_]=V.slice(-1),C=document.activeElement;for(const j of v)if(j===C||(j==null||j.scrollIntoView({block:"nearest"}),j===P&&D&&(D.scrollTop=0),j===_&&D&&(D.scrollTop=D.scrollHeight),j==null||j.focus(),document.activeElement!==C))return},[H,D]),K=a.useCallback(()=>k([B,d]),[k,B,d]);a.useEffect(()=>{J&&K()},[J,K]);const{onOpenChange:G,triggerPointerDownPosRef:ee}=f;a.useEffect(()=>{if(d){let v={x:0,y:0};const P=_=>{var C,j;v={x:Math.abs(Math.round(_.pageX)-(((C=ee.current)==null?void 0:C.x)??0)),y:Math.abs(Math.round(_.pageY)-(((j=ee.current)==null?void 0:j.y)??0))}},V=_=>{v.x<=10&&v.y<=10?_.preventDefault():d.contains(_.target)||G(!1),document.removeEventListener("pointermove",P),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",P),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",V,{capture:!0})}}},[d,G,ee]),a.useEffect(()=>{const v=()=>G(!1);return window.addEventListener("blur",v),window.addEventListener("resize",v),()=>{window.removeEventListener("blur",v),window.removeEventListener("resize",v)}},[G]);const[Ae,je]=to(v=>{const P=H().filter(C=>!C.disabled),V=P.find(C=>C.ref.current===document.activeElement),_=oo(P,v,V);_&&setTimeout(()=>_.ref.current.focus())}),Re=a.useCallback((v,P,V)=>{const _=!q.current&&!V;(f.value!==void 0&&f.value===P||_)&&($(v),_&&(q.current=!0))},[f.value]),Ee=a.useCallback(()=>d==null?void 0:d.focus(),[d]),fe=a.useCallback((v,P,V)=>{const _=!q.current&&!V;(f.value!==void 0&&f.value===P||_)&&z(v)},[f.value]),Ne=r==="popper"?Fe:Ft,be=Ne===Fe?{side:c,sideOffset:i,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:y,collisionPadding:N,sticky:b,hideWhenDetached:p,avoidCollisions:h}:{};return e.jsx(Bt,{scope:o,content:d,viewport:D,onViewportChange:E,itemRefCallback:Re,selectedItem:B,onItemLeave:Ee,itemTextRefCallback:fe,focusSelectedItem:K,selectedItemText:F,position:r,isPositioned:J,searchRef:Ae,children:e.jsx(Po,{as:bn,allowPinchZoom:!0,children:e.jsx(Do,{asChild:!0,trapped:f.open,onMountAutoFocus:v=>{v.preventDefault()},onUnmountAutoFocus:R(s,v=>{var P;(P=f.trigger)==null||P.focus({preventScroll:!0}),v.preventDefault()}),children:e.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(Ne,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:v=>v.preventDefault(),...S,...be,onPlaced:()=>W(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:R(S.onKeyDown,v=>{const P=v.ctrlKey||v.altKey||v.metaKey;if(v.key==="Tab"&&v.preventDefault(),!P&&v.key.length===1&&je(v.key),["ArrowUp","ArrowDown","Home","End"].includes(v.key)){let _=H().filter(C=>!C.disabled).map(C=>C.ref.current);if(["ArrowUp","End"].includes(v.key)&&(_=_.slice().reverse()),["ArrowUp","ArrowDown"].includes(v.key)){const C=v.target,j=_.indexOf(C);_=_.slice(j+1)}setTimeout(()=>k(_)),v.preventDefault()}})})})})})})});$t.displayName=Sn;var Cn="SelectItemAlignedPosition",Ft=a.forwardRef((t,n)=>{const{__scopeSelect:o,onPlaced:r,...s}=t,u=se(pe,o),l=ae(pe,o),[c,i]=a.useState(null),[m,g]=a.useState(null),x=O(n,A=>g(A)),y=Pe(o),N=a.useRef(!1),b=a.useRef(!0),{viewport:p,selectedItem:h,selectedItemText:S,focusSelectedItem:f}=l,d=a.useCallback(()=>{if(u.trigger&&u.valueNode&&c&&m&&p&&h&&S){const A=u.trigger.getBoundingClientRect(),B=m.getBoundingClientRect(),$=u.valueNode.getBoundingClientRect(),F=S.getBoundingClientRect();if(u.dir!=="rtl"){const C=F.left-B.left,j=$.left-C,ie=A.left-j,le=A.width+ie,ke=Math.max(le,B.width),Me=window.innerWidth-U,Oe=ct(j,[U,Math.max(U,Me-ke)]);c.style.minWidth=le+"px",c.style.left=Oe+"px"}else{const C=B.right-F.right,j=window.innerWidth-$.right-C,ie=window.innerWidth-A.right-j,le=A.width+ie,ke=Math.max(le,B.width),Me=window.innerWidth-U,Oe=ct(j,[U,Math.max(U,Me-ke)]);c.style.minWidth=le+"px",c.style.right=Oe+"px"}const z=y(),H=window.innerHeight-U*2,J=p.scrollHeight,W=window.getComputedStyle(m),q=parseInt(W.borderTopWidth,10),k=parseInt(W.paddingTop,10),K=parseInt(W.borderBottomWidth,10),G=parseInt(W.paddingBottom,10),ee=q+k+J+G+K,Ae=Math.min(h.offsetHeight*5,ee),je=window.getComputedStyle(p),Re=parseInt(je.paddingTop,10),Ee=parseInt(je.paddingBottom,10),fe=A.top+A.height/2-U,Ne=H-fe,be=h.offsetHeight/2,v=h.offsetTop+be,P=q+k+v,V=ee-P;if(P<=fe){const C=z.length>0&&h===z[z.length-1].ref.current;c.style.bottom="0px";const j=m.clientHeight-p.offsetTop-p.offsetHeight,ie=Math.max(Ne,be+(C?Ee:0)+j+K),le=P+ie;c.style.height=le+"px"}else{const C=z.length>0&&h===z[0].ref.current;c.style.top="0px";const ie=Math.max(fe,q+p.offsetTop+(C?Re:0)+be)+V;c.style.height=ie+"px",p.scrollTop=P-fe+p.offsetTop}c.style.margin=`${U}px 0`,c.style.minHeight=Ae+"px",c.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>N.current=!0)}},[y,u.trigger,u.valueNode,c,m,p,h,S,u.dir,r]);re(()=>d(),[d]);const[w,D]=a.useState();re(()=>{m&&D(window.getComputedStyle(m).zIndex)},[m]);const E=a.useCallback(A=>{A&&b.current===!0&&(d(),f==null||f(),b.current=!1)},[d,f]);return e.jsx(Nn,{scope:o,contentWrapper:c,shouldExpandOnScrollRef:N,onScrollButtonChange:E,children:e.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:e.jsx(L.div,{...s,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ft.displayName=Cn;var jn="SelectPopperPosition",Fe=a.forwardRef((t,n)=>{const{__scopeSelect:o,align:r="start",collisionPadding:s=U,...u}=t,l=De(o);return e.jsx(Ro,{...l,...u,ref:n,align:r,collisionPadding:s,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fe.displayName=jn;var[Nn,Xe]=Se(pe,{}),ze="SelectViewport",zt=a.forwardRef((t,n)=>{const{__scopeSelect:o,nonce:r,...s}=t,u=ae(ze,o),l=Xe(ze,o),c=O(n,u.onViewportChange),i=a.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(Te.Slot,{scope:o,children:e.jsx(L.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:R(s.onScroll,m=>{const g=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:y}=l;if(y!=null&&y.current&&x){const N=Math.abs(i.current-g.scrollTop);if(N>0){const b=window.innerHeight-U*2,p=parseFloat(x.style.minHeight),h=parseFloat(x.style.height),S=Math.max(p,h);if(S<b){const f=S+N,d=Math.min(b,f),w=f-d;x.style.height=d+"px",x.style.bottom==="0px"&&(g.scrollTop=w>0?w:0,x.style.justifyContent="flex-end")}}}i.current=g.scrollTop})})})]})});zt.displayName=ze;var Ht="SelectGroup",[_n,In]=Se(Ht),Tn=a.forwardRef((t,n)=>{const{__scopeSelect:o,...r}=t,s=Ye();return e.jsx(_n,{scope:o,id:s,children:e.jsx(L.div,{role:"group","aria-labelledby":s,...r,ref:n})})});Tn.displayName=Ht;var Ut="SelectLabel",Pn=a.forwardRef((t,n)=>{const{__scopeSelect:o,...r}=t,s=In(Ut,o);return e.jsx(L.div,{id:s.id,...r,ref:n})});Pn.displayName=Ut;var Ie="SelectItem",[Dn,Kt]=Se(Ie),Wt=a.forwardRef((t,n)=>{const{__scopeSelect:o,value:r,disabled:s=!1,textValue:u,...l}=t,c=se(Ie,o),i=ae(Ie,o),m=c.value===r,[g,x]=a.useState(u??""),[y,N]=a.useState(!1),b=O(n,f=>{var d;return(d=i.itemRefCallback)==null?void 0:d.call(i,f,r,s)}),p=Ye(),h=a.useRef("touch"),S=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Dn,{scope:o,value:r,disabled:s,textId:p,isSelected:m,onItemTextChange:a.useCallback(f=>{x(d=>d||((f==null?void 0:f.textContent)??"").trim())},[]),children:e.jsx(Te.ItemSlot,{scope:o,value:r,disabled:s,textValue:g,children:e.jsx(L.div,{role:"option","aria-labelledby":p,"data-highlighted":y?"":void 0,"aria-selected":m&&y,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:b,onFocus:R(l.onFocus,()=>N(!0)),onBlur:R(l.onBlur,()=>N(!1)),onClick:R(l.onClick,()=>{h.current!=="mouse"&&S()}),onPointerUp:R(l.onPointerUp,()=>{h.current==="mouse"&&S()}),onPointerDown:R(l.onPointerDown,f=>{h.current=f.pointerType}),onPointerMove:R(l.onPointerMove,f=>{var d;h.current=f.pointerType,s?(d=i.onItemLeave)==null||d.call(i):h.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:R(l.onPointerLeave,f=>{var d;f.currentTarget===document.activeElement&&((d=i.onItemLeave)==null||d.call(i))}),onKeyDown:R(l.onKeyDown,f=>{var w;((w=i.searchRef)==null?void 0:w.current)!==""&&f.key===" "||(fn.includes(f.key)&&S(),f.key===" "&&f.preventDefault())})})})})});Wt.displayName=Ie;var Ce="SelectItemText",qt=a.forwardRef((t,n)=>{const{__scopeSelect:o,className:r,style:s,...u}=t,l=se(Ce,o),c=ae(Ce,o),i=Kt(Ce,o),m=vn(Ce,o),[g,x]=a.useState(null),y=O(n,S=>x(S),i.onItemTextChange,S=>{var f;return(f=c.itemTextRefCallback)==null?void 0:f.call(c,S,i.value,i.disabled)}),N=g==null?void 0:g.textContent,b=a.useMemo(()=>e.jsx("option",{value:i.value,disabled:i.disabled,children:N},i.value),[i.disabled,i.value,N]),{onNativeOptionAdd:p,onNativeOptionRemove:h}=m;return re(()=>(p(b),()=>h(b)),[p,h,b]),e.jsxs(e.Fragment,{children:[e.jsx(L.span,{id:i.textId,...u,ref:y}),i.isSelected&&l.valueNode&&!l.valueNodeHasChildren?gt.createPortal(u.children,l.valueNode):null]})});qt.displayName=Ce;var Gt="SelectItemIndicator",Yt=a.forwardRef((t,n)=>{const{__scopeSelect:o,...r}=t;return Kt(Gt,o).isSelected?e.jsx(L.span,{"aria-hidden":!0,...r,ref:n}):null});Yt.displayName=Gt;var He="SelectScrollUpButton",Qt=a.forwardRef((t,n)=>{const o=ae(He,t.__scopeSelect),r=Xe(He,t.__scopeSelect),[s,u]=a.useState(!1),l=O(n,r.onScrollButtonChange);return re(()=>{if(o.viewport&&o.isPositioned){let c=function(){const m=i.scrollTop>0;u(m)};const i=o.viewport;return c(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[o.viewport,o.isPositioned]),s?e.jsx(Zt,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:i}=o;c&&i&&(c.scrollTop=c.scrollTop-i.offsetHeight)}}):null});Qt.displayName=He;var Ue="SelectScrollDownButton",Xt=a.forwardRef((t,n)=>{const o=ae(Ue,t.__scopeSelect),r=Xe(Ue,t.__scopeSelect),[s,u]=a.useState(!1),l=O(n,r.onScrollButtonChange);return re(()=>{if(o.viewport&&o.isPositioned){let c=function(){const m=i.scrollHeight-i.clientHeight,g=Math.ceil(i.scrollTop)<m;u(g)};const i=o.viewport;return c(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[o.viewport,o.isPositioned]),s?e.jsx(Zt,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:i}=o;c&&i&&(c.scrollTop=c.scrollTop+i.offsetHeight)}}):null});Xt.displayName=Ue;var Zt=a.forwardRef((t,n)=>{const{__scopeSelect:o,onAutoScroll:r,...s}=t,u=ae("SelectScrollButton",o),l=a.useRef(null),c=Pe(o),i=a.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return a.useEffect(()=>()=>i(),[i]),re(()=>{var g;const m=c().find(x=>x.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[c]),e.jsx(L.div,{"aria-hidden":!0,...s,ref:n,style:{flexShrink:0,...s.style},onPointerDown:R(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:R(s.onPointerMove,()=>{var m;(m=u.onItemLeave)==null||m.call(u),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:R(s.onPointerLeave,()=>{i()})})}),An="SelectSeparator",Rn=a.forwardRef((t,n)=>{const{__scopeSelect:o,...r}=t;return e.jsx(L.div,{"aria-hidden":!0,...r,ref:n})});Rn.displayName=An;var Ke="SelectArrow",En=a.forwardRef((t,n)=>{const{__scopeSelect:o,...r}=t,s=De(o),u=se(Ke,o),l=ae(Ke,o);return u.open&&l.position==="popper"?e.jsx(Eo,{...s,...r,ref:n}):null});En.displayName=Ke;var kn="SelectBubbleInput",Jt=a.forwardRef(({__scopeSelect:t,value:n,...o},r)=>{const s=a.useRef(null),u=O(r,s),l=pn(n);return a.useEffect(()=>{const c=s.current;if(!c)return;const i=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(i,"value").set;if(l!==n&&g){const x=new Event("change",{bubbles:!0});g.call(c,n),c.dispatchEvent(x)}},[l,n]),e.jsx(L.select,{...o,style:{...No,...o.style},ref:u,defaultValue:n})});Jt.displayName=kn;function eo(t){return t===""||t===void 0}function to(t){const n=_o(t),o=a.useRef(""),r=a.useRef(0),s=a.useCallback(l=>{const c=o.current+l;n(c),function i(m){o.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>i(""),1e3))}(c)},[n]),u=a.useCallback(()=>{o.current="",window.clearTimeout(r.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(r.current),[]),[o,s,u]}function oo(t,n,o){const s=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,u=o?t.indexOf(o):-1;let l=Mn(t,Math.max(u,0));s.length===1&&(l=l.filter(m=>m!==o));const i=l.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return i!==o?i:void 0}function Mn(t,n){return t.map((o,r)=>t[(n+r)%t.length])}var On=At,Ln=Et,Vn=Mt,Bn=Ot,$n=Lt,Fn=Vt,zn=zt,Hn=Wt,Un=qt,Kn=Yt,Wn=Qt,qn=Xt;function dt({...t}){return e.jsx(On,{"data-slot":"select",...t})}function ut({...t}){return e.jsx(Vn,{"data-slot":"select-value",...t})}function pt({className:t,size:n="default",children:o,...r}){return e.jsxs(Ln,{"data-slot":"select-trigger","data-size":n,className:T("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[o,e.jsx(Bn,{asChild:!0,children:e.jsx(Tt,{className:"size-4 opacity-50"})})]})}function mt({className:t,children:n,position:o="popper",...r}){return e.jsx($n,{children:e.jsxs(Fn,{"data-slot":"select-content",className:T("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...r,children:[e.jsx(Gn,{}),e.jsx(zn,{className:T("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(Yn,{})]})})}function ye({className:t,children:n,...o}){return e.jsxs(Hn,{"data-slot":"select-item",className:T("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...o,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Kn,{children:e.jsx(It,{className:"size-4"})})}),e.jsx(Un,{children:n})]})}function Gn({className:t,...n}){return e.jsx(Wn,{"data-slot":"select-scroll-up-button",className:T("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Qo,{className:"size-4"})})}function Yn({className:t,...n}){return e.jsx(qn,{"data-slot":"select-scroll-down-button",className:T("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Tt,{className:"size-4"})})}function Qn({trigger:t,onLinkCreated:n}){const[o,r]=a.useState(!1),[s,u]=a.useState(!1),[l,c]=a.useState(!1),[i,m]=a.useState(null),{account:g}=Qe(),x=g==null?void 0:g.address,[y,N]=a.useState({title:"",description:"",amount:"",currency:"USDC",chainId:"11155111"}),b=()=>{const d="ABCDEFGHJKMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz23456789";let w="";for(let D=0;D<6;D++)w+=d.charAt(Math.floor(Math.random()*d.length));return w},p=(d,w)=>{if(d==="chainId"&&w!=="11155111"){te.error("âš ï¸ Only Sepolia network is currently supported. Other networks are coming soon!");return}N(D=>({...D,[d]:w}))},h=async d=>{if(d.preventDefault(),!x){te.error("Please connect your wallet first");return}u(!0);try{const{data:w,error:D}=await de.from("user_profiles").select("wallet_address").eq("wallet_address",x).maybeSingle();!w&&!D?await de.from("user_profiles").insert({wallet_address:x,first_login:new Date().toISOString(),last_login:new Date().toISOString(),login_count:1,is_active:!0}):w&&await de.from("user_profiles").update({last_login:new Date().toISOString(),login_count:w.login_count+1}).eq("wallet_address",x);let E=b(),A=0;for(;A<10;){const{data:H}=await de.from("payment_links").select("short_id").eq("short_id",E).single();if(!H)break;E=b(),A++,console.log(`ðŸ”„ Collision detected, trying new ID: ${E}`)}const B={short_id:E,creator_wallet:x,title:y.title,description:y.description||null,amount:parseFloat(y.amount),currency:y.currency,chain_id:parseInt(y.chainId)},{data:$,error:F}=await de.from("payment_links").insert(B).select().single();if(F)throw console.error("âŒ Database error:",F),F;console.log("âœ… Payment link created:",$);const z=`${window.location.origin}/pay/${E}`;m(z),te.success("ðŸŽ‰ Payment link created successfully!"),n==null||n($),N({title:"",description:"",amount:"",currency:"USDC",chainId:"11155111"})}catch(w){console.error("ðŸ’¥ Error creating payment link:",w),te.error(`âŒ Failed: ${w instanceof Error?w.message:"Unknown error"}`)}finally{u(!1),console.log("ðŸ Form submission completed")}},S=async()=>{i&&(await navigator.clipboard.writeText(i),c(!0),te.success("Link copied to clipboard!"),setTimeout(()=>c(!1),2e3))},f=y.title&&y.amount;return i?e.jsxs(ot,{open:o,onOpenChange:r,children:[e.jsx(nt,{asChild:!0,children:t||e.jsxs(Y,{children:[e.jsx(tt,{className:"w-4 h-4"}),"Create Payment Link"]})}),e.jsxs(rt,{className:"sm:max-w-[500px]",children:[e.jsxs(st,{children:[e.jsx(it,{children:"Payment Link Created! ðŸŽ‰"}),e.jsx(lt,{children:"Your payment link is ready to share. Anyone with this link can pay you."})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx(ve,{className:"text-sm font-medium",children:"Payment Link"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Ve,{value:i,readOnly:!0,className:"text-sm"}),e.jsx(Y,{onClick:S,variant:"outline",size:"sm",className:"flex-shrink-0",children:l?e.jsx(It,{className:"w-4 h-4"}):e.jsx(Pt,{className:"w-4 h-4"})})]})]})}),e.jsx(at,{children:e.jsx(Y,{onClick:()=>{m(null),r(!1)},className:"w-full",children:"Create Another Link"})})]})]}):e.jsxs(ot,{open:o,onOpenChange:r,children:[e.jsx(nt,{asChild:!0,children:t||e.jsxs(Y,{children:[e.jsx(tt,{className:"w-4 h-4"}),"Create Payment Link"]})}),e.jsxs(rt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[e.jsxs(st,{children:[e.jsx(it,{children:"Create Payment Link"}),e.jsx(lt,{children:"Create a cross-chain payment link that others can use to send you payments."})]}),!x&&e.jsx("div",{className:"p-4 bg-yellow-100 text-yellow-800 rounded mb-4 text-center",children:"Please connect your wallet to create a payment link."}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"title",children:"Payment Title *"}),e.jsx(Ve,{id:"title",placeholder:"e.g., Coffee Payment, Service Fee",value:y.title,onChange:d=>p("title",d.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"description",children:"Description"}),e.jsx(ln,{id:"description",placeholder:"Optional description for this payment link",value:y.description,onChange:d=>p("description",d.target.value),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"amount",children:"Amount *"}),e.jsx(Ve,{id:"amount",type:"number",step:"0.000001",placeholder:"0.1",value:y.amount,onChange:d=>p("amount",d.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"currency",children:"Currency"}),e.jsxs(dt,{value:y.currency,onValueChange:d=>p("currency",d),children:[e.jsx(pt,{children:e.jsx(ut,{})}),e.jsx(mt,{children:e.jsx(ye,{value:"USDC",children:"USDC"})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"chainId",children:"Blockchain Network"}),e.jsxs(dt,{value:y.chainId,onValueChange:d=>p("chainId",d),children:[e.jsx(pt,{children:e.jsx(ut,{})}),e.jsxs(mt,{children:[e.jsx(ye,{value:"11155111",children:"Sepolia"}),e.jsx(ye,{value:"42161",className:"text-muted-foreground",children:"Arbitrum "}),e.jsx(ye,{value:"42220",className:"text-muted-foreground",children:"Celo "}),e.jsx(ye,{value:"8453",className:"text-muted-foreground",children:"Base "}),e.jsx(ye,{value:"43114",className:"text-muted-foreground",children:"Avalanche "})]})]})]}),e.jsxs(at,{children:[e.jsx(Y,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),e.jsx(Y,{type:"submit",disabled:!f||s,children:s?"Creating...":"Create Payment Link"})]})]})]})]})}var no="AlertDialog",[Xn,Ur]=Ge(no,[Nt]),Z=Nt(),ro=t=>{const{__scopeAlertDialog:n,...o}=t,r=Z(n);return e.jsx(xt,{...r,...o,modal:!0})};ro.displayName=no;var Zn="AlertDialogTrigger",so=a.forwardRef((t,n)=>{const{__scopeAlertDialog:o,...r}=t,s=Z(o);return e.jsx(vt,{...s,...r,ref:n})});so.displayName=Zn;var Jn="AlertDialogPortal",ao=t=>{const{__scopeAlertDialog:n,...o}=t,r=Z(n);return e.jsx(bt,{...r,...o})};ao.displayName=Jn;var er="AlertDialogOverlay",io=a.forwardRef((t,n)=>{const{__scopeAlertDialog:o,...r}=t,s=Z(o);return e.jsx(Ct,{...s,...r,ref:n})});io.displayName=er;var we="AlertDialogContent",[tr,or]=Xn(we),nr=Fo("AlertDialogContent"),lo=a.forwardRef((t,n)=>{const{__scopeAlertDialog:o,children:r,...s}=t,u=Z(o),l=a.useRef(null),c=O(n,l),i=a.useRef(null);return e.jsx(ko,{contentName:we,titleName:co,docsSlug:"alert-dialog",children:e.jsx(tr,{scope:o,cancelRef:i,children:e.jsxs(yt,{role:"alertdialog",...u,...s,ref:c,onOpenAutoFocus:R(s.onOpenAutoFocus,m=>{var g;m.preventDefault(),(g=i.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[e.jsx(nr,{children:r}),e.jsx(sr,{contentRef:l})]})})})});lo.displayName=we;var co="AlertDialogTitle",uo=a.forwardRef((t,n)=>{const{__scopeAlertDialog:o,...r}=t,s=Z(o);return e.jsx(wt,{...s,...r,ref:n})});uo.displayName=co;var po="AlertDialogDescription",mo=a.forwardRef((t,n)=>{const{__scopeAlertDialog:o,...r}=t,s=Z(o);return e.jsx(St,{...s,...r,ref:n})});mo.displayName=po;var rr="AlertDialogAction",fo=a.forwardRef((t,n)=>{const{__scopeAlertDialog:o,...r}=t,s=Z(o);return e.jsx(qe,{...s,...r,ref:n})});fo.displayName=rr;var ho="AlertDialogCancel",go=a.forwardRef((t,n)=>{const{__scopeAlertDialog:o,...r}=t,{cancelRef:s}=or(ho,o),u=Z(o),l=O(n,s);return e.jsx(qe,{...u,...r,ref:l})});go.displayName=ho;var sr=({contentRef:t})=>{const n=`\`${we}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${we}\` by passing a \`${po}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${we}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(n)},[n,t]),null},ar=ro,ir=so,lr=ao,cr=io,dr=lo,ur=fo,pr=go,mr=uo,fr=mo;function hr({...t}){return e.jsx(ar,{"data-slot":"alert-dialog",...t})}function gr({...t}){return e.jsx(ir,{"data-slot":"alert-dialog-trigger",...t})}function xr({...t}){return e.jsx(lr,{"data-slot":"alert-dialog-portal",...t})}function vr({className:t,...n}){return e.jsx(cr,{"data-slot":"alert-dialog-overlay",className:T("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function yr({className:t,...n}){return e.jsxs(xr,{children:[e.jsx(vr,{}),e.jsx(dr,{"data-slot":"alert-dialog-content",className:T("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n})]})}function wr({className:t,...n}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:T("flex flex-col gap-2 text-center sm:text-left",t),...n})}function Sr({className:t,...n}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:T("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...n})}function br({className:t,...n}){return e.jsx(mr,{"data-slot":"alert-dialog-title",className:T("text-lg font-semibold",t),...n})}function Cr({className:t,...n}){return e.jsx(fr,{"data-slot":"alert-dialog-description",className:T("text-muted-foreground text-sm",t),...n})}function jr({className:t,...n}){return e.jsx(ur,{className:T(_t(),t),...n})}function Nr({className:t,...n}){return e.jsx(pr,{className:T(_t({variant:"outline"}),t),...n})}const _r=async t=>{const{data:n,error:o}=await de.from("payment_links").select("*").eq("creator_wallet",t).order("created_at",{ascending:!1});if(o)throw o;return n},Ir=async t=>{const{error:n}=await de.from("payment_links").delete().eq("id",t);if(n)throw n;return!0};function Tr(){return e.jsxs("div",{children:[e.jsx("div",{className:"h-7 w-48 bg-zinc-800 rounded animate-pulse mb-2"}),e.jsx("ul",{className:"space-y-2",children:[...Array(3)].map((t,n)=>e.jsxs("li",{className:"p-2 border rounded",children:[e.jsx("div",{className:"h-5 w-32 bg-zinc-800 rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-4 w-48 bg-zinc-800 rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-4 w-64 bg-zinc-800 rounded animate-pulse"})]},n))})]})}function Pr(){const{account:t}=Qe(),n=t==null?void 0:t.address,o=We(),{data:r,isLoading:s,error:u}=Uo({queryKey:["payment-links",n],queryFn:()=>_r(n),enabled:!!n,staleTime:3e4}),l=Wo({mutationFn:Ir,onSuccess:()=>{o.invalidateQueries({queryKey:["payment-links",n]}),te.success("Payment link deleted successfully!")},onError:i=>{console.error("Delete failed:",i),te.error("Failed to delete payment link. Please try again.")}}),c=i=>{navigator.clipboard.writeText(i),te.success("Link copied to clipboard!")};return n?s?e.jsx(Tr,{}):u?e.jsx("div",{children:"Error loading payment links."}):!r||r.length===0?e.jsx("div",{children:"No payment links found."}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Your Payment Links"}),e.jsx("ul",{className:"space-y-3",children:r.map(i=>e.jsxs("li",{className:"p-4 border rounded-lg bg-card",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-lg",children:i.title}),e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:i.description}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"font-medium",children:[i.amount," ",i.currency]}),e.jsx(Ho,{variant:i.status==="active"?"default":"secondary",children:i.status})]})]}),e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>c(`${window.location.origin}/pay/${i.short_id}`),className:"h-8 w-8 p-0",children:e.jsx(Pt,{className:"h-4 w-4"})}),e.jsx(Y,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0",children:e.jsx("a",{href:`/pay/${i.short_id}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Jo,{className:"h-4 w-4"})})}),e.jsxs(hr,{children:[e.jsx(gr,{asChild:!0,children:e.jsx(Y,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(on,{className:"h-4 w-4"})})}),e.jsxs(yr,{children:[e.jsxs(wr,{children:[e.jsx(br,{children:"Delete Payment Link"}),e.jsxs(Cr,{children:['Are you sure you want to delete "',i.title,'"? This action cannot be undone. Anyone with this link will no longer be able to make payments.']})]}),e.jsxs(Sr,{children:[e.jsx(Nr,{children:"Cancel"}),e.jsx(jr,{onClick:()=>l.mutate(i.id),disabled:l.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:l.isPending?"Deleting...":"Delete"})]})]})]})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-muted rounded text-xs font-mono break-all",children:[window.location.origin,"/pay/",i.short_id]})]},i.id))})]}):e.jsx("div",{children:"Please connect your wallet."})}const Kr=function(){const n=We(),{account:o}=Qe(),r=o==null?void 0:o.address,s=()=>{n.invalidateQueries({queryKey:["payment-links",r]})};return e.jsx(Mo,{title:"Payment Links",children:e.jsxs(Oo,{children:[e.jsxs(Lo,{children:[e.jsx(Vo,{children:"Your Payment Links"}),e.jsx(Bo,{children:"Manage your crypto payment links"}),e.jsx(Qn,{onLinkCreated:s})]}),e.jsx($o,{children:e.jsx(Pr,{})})]})})};export{Kr as component};
