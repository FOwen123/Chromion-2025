const A="/sdk/2022-08-12/embedded-wallet",a=t=>`thirdwebEwsWalletUserId-${t}`,c="walletToken",i=t=>`${c}-${t}`,o=t=>`passkey-credential-id-${t}`,I="a",n=(t,e)=>`${I}-${t}-${e}`,h=t=>`walletConnectSessions-${t}`,l=t=>`thirdweb_guest_session_id_${t}`,u=new Map;class E{constructor({storage:e,clientId:s,ecosystem:r}){Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ecosystem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.storage=e,this.key=_(s,r==null?void 0:r.id),this.ecosystem=r}async getItem(e){return this.storage?this.storage.getItem(e):u.get(e)??null}async setItem(e,s){if(this.storage)return this.storage.setItem(e,s);u.set(e,s)}async removeItem(e){const s=await this.getItem(e);return this.storage&&s?(this.storage.removeItem(e),!0):!1}async getWalletConnectSessions(){return this.getItem(h(this.key))}async saveWalletConnectSessions(e){await this.setItem(h(this.key),e)}async savePasskeyCredentialId(e){await this.setItem(o(this.key),e)}async getPasskeyCredentialId(){return this.getItem(o(this.key))}async saveAuthCookie(e){await this.setItem(i(this.key),e)}async getAuthCookie(){return this.getItem(i(this.key))}async removeAuthCookie(){return this.removeItem(i(this.key))}async saveDeviceShare(e,s){await this.saveWalletUserId(s),await this.setItem(n(this.key,s),e)}async getDeviceShare(){const e=await this.getWalletUserId();return e?this.getItem(n(this.key,e)):null}async removeDeviceShare(){const e=await this.getWalletUserId();return e?this.removeItem(n(this.key,e)):!1}async getWalletUserId(){return this.getItem(a(this.key))}async saveWalletUserId(e){await this.setItem(a(this.key),e)}async removeWalletUserId(){return this.removeItem(a(this.key))}async getGuestSessionId(){return this.getItem(l(this.key))}async saveGuestSessionId(e){await this.setItem(l(this.key),e)}}const _=(t,e)=>`${t}${e?`-${e}`:""}`;export{E as C,A as I};
