import{d as y,i as g,j as A,k as d,l as w}from"./to-serializable-transaction-CBqCJM9h.js";import{a8 as l,aO as O,a7 as P}from"./index-anYD-FGg.js";function k(n){return Object.fromEntries(Object.entries(n).map(([t,e])=>[t,{balance:e.balance?l(e.balance):void 0,nonce:e.nonce?l(e.nonce):void 0,code:e.code,state:e.state,stateDiff:e.stateDiff}]))}async function _(n,t){const{blockNumber:e,blockTag:r,...s}=t,c=(e?l(e):void 0)||r||"latest";return await n({method:"eth_call",params:t.stateOverrides?[s,c,k(t.stateOverrides)]:[s,c]})}async function j(n){const{contract:t,method:e,params:r}=n,s=async()=>{var u,b;if(Array.isArray(e))return e;if(A(e))return d(e);if(typeof e=="function")return d(await e(t));if(typeof e=="string"&&e.startsWith("function ")){const o=w(e);if(o.type==="function")return d(o);throw new Error('"method" passed is not of type "function"')}if(t.abi&&((u=t.abi)==null?void 0:u.length)>0){const o=(b=t.abi)==null?void 0:b.find(m=>m.type==="function"&&m.name===e);if(o)return d(o)}throw new Error(`Could not resolve method "${e}".`)},[a,c]=await Promise.all([s(),typeof r=="function"?r():r]);let f;a[1].length===0?f=a[0]:f=a[0]+y(a[1],c).slice(2);const p=O({chain:t.chain,client:t.client}),h=await _(p,{data:f,to:t.address,from:n.from?P(n.from):void 0}),i=g(a[2],h);return Array.isArray(i)&&i.length===1?i[0]:i}const M=Object.freeze(Object.defineProperty({__proto__:null,readContract:j},Symbol.toStringTag,{value:"Module"}));export{M as a,_ as e,j as r};
